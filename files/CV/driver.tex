\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{datetime}
\usepackage{multicol}
\usepackage{subfigure}
\usepackage[usenames]{color}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{enumerate}
\usepackage[inline]{enumitem}
\usepackage{colortbl}
\usepackage{eurosym}
\usepackage{soul}
\usepackage{pdfpages}
\usepackage{scrextend}
\usepackage{etoolbox}
\usepackage{tikz}
\usepackage{tcolorbox}
\usepackage{array}
\usepackage[hypertexnames=false,naturalnames=true]{hyperref}
\hypersetup{
    bookmarks=true,         % show bookmarks bar?
    unicode=true,          % non-Latin characters in AcrobatÕs bookmarks
    pdftoolbar=true,        % show AcrobatÕs toolbar?
    pdfmenubar=true,        % show AcrobatÕs menu?
    pdffitwindow=false,     % window fit to page when opened
    pdfstartview={FitH},    % fits the width of the page to the window
    pdfnewwindow=true,      % links in new window
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=black,          % color of internal links
    citecolor=black,        % color of links to bibliography
    filecolor=black,      % color of file links
    urlcolor=black           % color of external links
}
\usepackage{fontspec}


\definecolor{ivy}{RGB}{78,136,199}
\definecolor{hgreen}{RGB}{148,110,183}
\definecolor{gray}{rgb}{0.15,0.15,0.15}
\definecolor{groy}{RGB}{148,110,183}
\definecolor{grayy}{rgb}{0.5,0.5,0.5}
\definecolor{blue}{rgb}{0,0,1}
\definecolor{green}{rgb}{0.0,0.45,0.0}
\definecolor{red}{rgb}{1,0,0.0}
\definecolor{MyGray}{rgb}{0.65,0.65,0.75}
\definecolor{harvard}{rgb}{0.788,0,0.086}
\definecolor{mycolor}{rgb}{0.02, 0.435, 0.698}
\newcommand{\harvard}[1]{\textcolor{harvard}{#1}}
\newcommand{\mygrey}[1]{\textcolor{MyGray}{#1}}
\newcommand{\green}[1]{\textcolor{green}{#1}}
\newcommand{\blue}[1]{\textcolor{blue}{#1}}
\newcommand{\red}[1]{\textcolor{black}{#1}}
\newcommand{\black}[1]{\textcolor{black}{#1}}
\newcommand{\gray}[1]{\textcolor{black}{#1}}


\setlength{\parskip}{8pt}
\setlength{\parindent}{0.0cm}
\setlist{noitemsep} 
\renewcommand{\headrulewidth}{0.0pt}
\renewcommand{\footrulewidth}{0.0pt}
\newrobustcmd*{\mytriangle}[2]{\tikz{\filldraw[draw=#1,fill=#1,rotate=#2] (0,0) --
(0.2cm,0) -- (0.1cm,0.2cm);}}
\setlength{\parindent}{0pt}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\newcommand{\subtitle}[1]{
{\textbf{\textcolor{harvard}{{#1}}}}\\[-10pt]\noindent
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\newcommand{\subsubtitle}[1]{
{\hfill \textbf{\textcolor{black}{\textsc{#1}}}}\\[-15pt]
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\newcommand{\subtitlea}[2]{
{\textbf{\textcolor{harvard}{{#1}}}}\\[-5pt]
\begin{addmargin}[1em]{0em}
#2
\end{addmargin}
\vspace{5pt}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 % left fixed width:
\newcolumntype{L}[1]{>{\small\color{black}\raggedright\arraybackslash}p{#1}}

% center fixed width:
\newcolumntype{C}[1]{>{\color{black}\em\centering\arraybackslash}p{#1}}
\newcolumntype{B}[1]{>{\color{black}\em\raggedright\arraybackslash}p{#1}}

% flush right fixed width:
\newcolumntype{R}[1]{>{\small\color{ivy}\bfseries\raggedleft\arraybackslash}p{#1}}
\newcolumntype{A}[1]{>{\small\color{ivy}\bfseries\raggedright\arraybackslash}p{#1}}
\newcolumntype{D}[1]{>{\footnotesize\color{black}\raggedright\arraybackslash}p{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[firstinits=true,backend=bibtex,dashed=false,doi=true,natbib=true,isbn=false,url=false,style=authoryear,maxbibnames=99,maxnames=10,maxcitenames=2,sorting=none,sortcites=false]{biblatex}
\renewbibmacro{in:}{}
\DeclareFieldFormat
  [article,inbook,incollection,proceedings,inproceedings,patent,thesis,unpublished]
  {title}{\mkbibquote{\textcolor{hgreen}{\textbf{#1}}}}
\DeclareFieldFormat
  [article,inbook,incollection,proceedings,inproceedings,patent,thesis,unpublished]
  {journaltitle}{\textcolor{harvard}{\textit{#1}}} 
\DeclareFieldFormat
  [article,inbook,incollection,proceedings,inproceedings,patent,thesis,unpublished]
  {booktitle}{in \textcolor{harvard}{\textit{#1}}}    
\AtBeginBibliography{\small}
\addbibresource{~/Dropbox/Public/CollectedPapers/MasterBibliography.bib}          

\DeclareNameAlias{sortname}{last-first}

\usepackage{xstring}
\usepackage{etoolbox}
\newboolean{bold}
\newcommand{\makeauthorsbold}[1]{%
  \DeclareNameFormat{author}{%
  \setboolean{bold}{false}%
    \renewcommand{\do}[1]{\expandafter\ifstrequal\expandafter{\namepartfamily}{####1}{\setboolean{bold}{true}}{}}%
    \docsvlist{#1}%
    \ifthenelse{\value{listcount}=1}
    {%
      {\expandafter\ifthenelse{\boolean{bold}}{\mkbibbold{\namepartfamily\addcomma\addspace \namepartgiveni}}{\namepartfamily\addcomma\addspace \namepartgiveni}}%
    }{\ifnumless{\value{listcount}}{\value{liststop}}
      {\expandafter\ifthenelse{\boolean{bold}}{\mkbibbold{\addcomma\addspace \namepartfamily\addcomma\addspace \namepartgiveni}}{\addcomma\addspace \namepartfamily\addcomma\addspace \namepartgiveni}}%
      {\expandafter\ifthenelse{\boolean{bold}}{\mkbibbold{\addcomma\addspace \namepartfamily\addcomma\addspace \namepartgiveni\addcomma\isdot}}{\addcomma\addspace \namepartfamily\addcomma\addspace \namepartgiveni\addcomma\isdot}}%
      }
    \ifthenelse{\value{listcount}<\value{liststop}}
    {\addcomma\space}{}
  }
}

\newcommand{\makeeditorsbold}[1]{%
  \DeclareNameFormat{editor}{%
  \setboolean{bold}{false}%
    \renewcommand{\do}[1]{\expandafter\ifstrequal\expandafter{\namepartfamily}{####1}{\setboolean{bold}{true}}{}}%
    \docsvlist{#1}%
    \ifthenelse{\value{listcount}=1}
    {%
      {\expandafter\ifthenelse{\boolean{bold}}{\mkbibbold{\namepartfamily\addcomma\addspace \namepartgiveni}}{\namepartfamily\addcomma\addspace \namepartgiveni}}%
    }{\ifnumless{\value{listcount}}{\value{liststop}}
      {\expandafter\ifthenelse{\boolean{bold}}{\mkbibbold{\addcomma\addspace \namepartfamily\addcomma\addspace \namepartgiveni}}{\addcomma\addspace \namepartfamily\addcomma\addspace \namepartgiveni}}%
      {\expandafter\ifthenelse{\boolean{bold}}{\mkbibbold{\addcomma\addspace \namepartfamily\addcomma\addspace \namepartgiveni\addcomma\isdot}}{\addcomma\addspace \namepartfamily\addcomma\addspace \namepartgiveni\addcomma\isdot}}%
      }
    \ifthenelse{\value{listcount}<\value{liststop}}
    {\addcomma\space}{}
  }
}


\makeauthorsbold{Bhat}
\makeeditorsbold{Bhat}


